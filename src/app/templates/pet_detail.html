{% extends "base.html" %}
{% block title %}{{ pet.name }} ‚Äî {{ pet.species }} ¬∑ Take A Paw{% endblock %}

{% block content %}
<a class="back-link" href="/">‚Üê Back to pets</a>

<section class="pet-detail">
    <div class="pet-photo">
        <img src="{{ pet.image }}" alt="{{ pet.name }}" />
        {% if pet.adopted %}
        <span class="badge adopted">Adopted</span>
        {% endif %}
    </div>

    <div class="pet-meta">
        <h1>{{ pet.name }}</h1>
        <p class="species">{{ pet.species }} ‚Äî {{ pet.breed }}</p>
        <p class="meta">{{ pet.age }} ‚Ä¢ {{ pet.gender }}</p>
        <p class="location">üìç {{ pet.location }}</p>

        {% if pet.description %}
        <p class="desc">{{ pet.description }}</p>
        {% endif %}

        <div class="contact-card">
            <h3>Contact</h3>

            {% if pet.contact_email or pet.contact_phone %}
            <div class="contact-actions">
                {% if pet.contact_email %}
                <a class="btn" href="mailto:{{ pet.contact_email }}">Email Owner</a>
                {% endif %}
                {% if pet.contact_phone %}
                <a class="btn secondary" href="tel:{{ pet.contact_phone|replace(' ', '') }}">Call Owner</a>
                {% endif %}
            </div>
            <p class="contact-note">
                Contact info is provided by the listing owner{% if pet.owner_id %} (owner: {{ pet.owner_id }}){% endif
                %}.
            </p>
            {% else %}
            <p class="contact-missing">
                Contact info is hidden for this listing. Please check back later.
            </p>
            {% endif %}
        </div>

        <div class="actions-row">
            <form method="post" action="/pets/{{ pet.id }}/favorite">
                <input type="hidden" name="next" value="{{ request.path }}">
                <button class="btn outline" type="submit">‚ô° Favorite</button>
            </form>
        </div>

    </div>
</section>
{% endblock %}